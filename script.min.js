document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".mobile-menu-btn"),t=document.querySelector(".main-header nav");e&&e.addEventListener("click",function(){e.classList.toggle("active"),t&&t.classList.toggle("active")});
// 微信弹窗代码修复
try {
    const wechatLinks = document.querySelectorAll(".social-link#wechat-link, .social-link#footer-wechat-link");
    const wechatModal = document.getElementById("wechat-modal");
    const closeModal = document.querySelector(".close-modal");
    
    // 确保弹窗初始状态为隐藏
    if (wechatModal) {
        wechatModal.style.display = 'none';
    }
    
    // 为所有微信链接添加点击事件
    if (wechatLinks) {
        wechatLinks.forEach(link => {
            if (link) {
                link.addEventListener("click", function(e) {
                    e.preventDefault();
                    if (wechatModal) {
                        wechatModal.style.display = "flex";
                        document.body.style.overflow = "hidden";
                    }
                });
            }
        });
    }
    
    // 关闭按钮事件
    if (closeModal) {
        closeModal.addEventListener("click", function() {
            if (wechatModal) {
                wechatModal.style.display = "none";
                document.body.style.overflow = "";
            }
        });
    }
    
    // 点击弹窗外部关闭
    if (wechatModal) {
        wechatModal.addEventListener("click", function(e) {
            if (e.target === wechatModal) {
                wechatModal.style.display = "none";
                document.body.style.overflow = "";
            }
        });
    }
} catch(err) {
    console.log("微信弹窗初始化错误:", err);
}
const a=document.querySelector(".carousel");if(a){const e=a.querySelector(".carousel-slide"),t=a.querySelectorAll(".carousel-item"),n=a.querySelector(".carousel-prev"),i=a.querySelector(".carousel-next"),o=a.querySelector(".carousel-dots");let r=0,s=t.length;for(let e=0;e<s;e++){const t=document.createElement("span");t.classList.add("carousel-dot"),0===e&&t.classList.add("active"),o.appendChild(t)}const c=a.querySelectorAll(".carousel-dot");function l(t){r=t,e.style.transform=`translateX(-${100*r}%)`;for(let e=0;e<c.length;e++)c[e].classList.remove("active");c[r].classList.add("active")}function d(){r=(r+1)%s,l(r)}let u=setInterval(d,5e3);a.addEventListener("mouseenter",function(){clearInterval(u)}),a.addEventListener("mouseleave",function(){u=setInterval(d,5e3)}),n.addEventListener("click",function(){r=(r-1+s)%s,l(r)}),i.addEventListener("click",function(){d()});for(let e=0;e<c.length;e++)c[e].addEventListener("click",function(){l(e)})}const r=document.querySelector(".gallery-filters");if(r){const e=r.querySelectorAll(".filter-btn"),t=document.querySelectorAll(".gallery-item");e.forEach(n=>{n.addEventListener("click",function(){e.forEach(e=>e.classList.remove("active")),n.classList.add("active");const i=n.getAttribute("data-filter");"all"===i?t.forEach(e=>{e.style.display="block"}):t.forEach(e=>{e.classList.contains(i)?e.style.display="block":e.style.display="none"})})})}const s=document.getElementById("contactForm");s&&s.addEventListener("submit",function(e){e.preventDefault();const t=document.getElementById("name").value,n=document.getElementById("email").value,i=document.getElementById("message").value;if(t&&n&&i){const e=document.createElement("div");e.className="thank-you-message",e.innerHTML='<div class="thank-you-icon"><i class="fas fa-check-circle"></i></div><h3>感谢您的留言！</h3><p>我们会尽快与您联系。</p>',s.innerHTML="",s.appendChild(e),setTimeout(function(){window.location.href="thank-you.html"},2e3)}else alert("请填写所有必填字段")});const c=document.querySelector(".newsletter-form");c&&c.addEventListener("submit",function(e){e.preventDefault();const t=c.querySelector("input").value;if(t){window.location.href="thank-you.html"}else alert("请输入您的电子邮箱地址")})});const scrollElements=document.querySelectorAll(".scroll-animation");function elementInView(e,t=1){const n=e.getBoundingClientRect();return n.top<=window.innerHeight*t&&n.bottom>=0}function displayScrollElement(e){e.classList.add("scrolled")}function hideScrollElement(e){e.classList.remove("scrolled")}function handleScrollAnimation(){scrollElements.forEach(e=>{elementInView(e,.75)?displayScrollElement(e):hideScrollElement(e)})}window.addEventListener("scroll",()=>{handleScrollAnimation()});

// 添加scrollToService函数
function scrollToService(serviceName) {
    const servicesSection = document.getElementById('services');
    if (servicesSection) {
        servicesSection.scrollIntoView({ behavior: 'smooth' });
    }
} 
